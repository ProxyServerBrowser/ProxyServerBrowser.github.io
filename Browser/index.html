<!DOCTYPE html>
<html lang="en">
<head>
  <title>SPB</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="container-fluid p-5 bg-primary text-white text-center">
  <h1>Secure Proxy Browser</h1>
  <p>System Security</p> 
</div>
  
<div class="container mt-5">
    <div class="container p-5 my-5 bg-dark text-white" id="cont" hidden="true">
        <h3 id="title">
            Whoops 
        </h3>
        <p id = "text">
            Invalid Sesion, your session may have expired
        </p>
        <button class="btn btn-primary">
            <span class="spinner-border spinner-border-sm" id="spinner" hidden="true"></span>
            <span id="button-reload">Retry</span>
          </button>
    </div>
</div>
<div class="system" hidden="true">
    <a class="system-link">INVISIBLE LINK</a>
</div>
<button type="button" class="btn btn-primary" onclick=CheckForSession>Validate Session</button>
<script>
    var title = document.getElementById("title")
    var text = document.getElementById("text")
    var spinner = document.getElementById("spinner")
    var button = document.getElementById("button-reload")
    var system = document.getElementsByClassName("system-link")
    var container = document.getElementById("cont")
    function CheckForSession(){
        
        var Data = sessionStorage.getItem("SPB.SESSION")
        if (Data){
            system.href = "main.html"
            system.click()
        } else {
            container.hidden = "false"
        }
    }
    CheckForSession()
</script>
</body>
</html>
